<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mapper.CoursecategoriesMapper">
	<select id="findCoursecategoriesList" resultType="Coursecategories">
		select * from coursecategories 
	</select>

	<select id="query" parameterType="java.util.Map" resultType="Coursecategories">
	    select  *  
        from coursecategories a  	
		<where>
			<if test="catid != null and catid !=0 ">
		    and a.catid = #{catid}
			</if>
			<if test="catname != null and catname != ''">
		    and a.catname = #{catname}
			</if>
			<if test="condition != null and condition != ''">
		    ${condition} 
			</if>

		</where>

    order by ${sort} catid 

		<if test="page">
			limit #{offset} ,#{pageSize}
		</if>
	</select>

	<select id="getCount" parameterType="java.util.Map" resultType="Int">
		select count(0) from coursecategories a  
		<where>
			<if test="catid != null and catid !=0 ">
		    and a.catid = #{catid}
			</if>
			<if test="catname != null and catname != ''">
		    and a.catname = #{catname}
			</if>
			<if test="condition != null and condition != ''">
		    ${condition} 
			</if>

		</where>
	</select>

	<select id="queryCoursecategoriesById" parameterType="int" resultType="Coursecategories">
    select  *  
     from coursecategories a  	 where a.catid=#{value}
	</select>

	<insert id="insertCoursecategories" useGeneratedKeys="true" keyProperty="catid" parameterType="Coursecategories">
    insert into coursecategories
    (catname)
    values
    (#{catname});
	</insert>

	<update id="updateCoursecategories" parameterType="Coursecategories">
    update coursecategories 
		<set>
			<if test="catname != null and catname != ''">
		    catname = #{catname},
			</if>

		</set>
		<where>
			<if test="condition != null and condition != ''">
      ${condition}
			</if>
			<if test="catid != null or catid != ''"> catid=#{catid}
			</if>
		</where>
	</update>


	<delete id="deleteCoursecategories" parameterType="int">
    delete from  coursecategories where catid=#{value}
	</delete>



</mapper>

 
